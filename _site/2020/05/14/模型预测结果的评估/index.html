<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="ä»£ç ç¼–ç»‡æ¢¦æƒ³ï¼Œç¨‹åºåˆ›é€ æœªæ¥">
    <meta name="keywords"  content="å½¦ï¼Œç¨‹åºå‘˜">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title" content="ML5--æ¨¡å‹é¢„æµ‹ç»“æœçš„è¯„ä¼° - Yan Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="
  â€˜æ²¡æœ‰æµ‹é‡ï¼Œå°±æ²¡æœ‰ç§‘å­¦â€™è¿™æ˜¯ç§‘å­¦å®¶é—¨æ·åˆ—å¤«çš„åè¨€ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ç‰¹åˆ«æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ï¼Œå¯¹æ¨¡å‹çš„è¯„ä¼°åŒæ ·è‡³å…³é‡è¦ï¼Œåªæœ‰é€‰æ‹©ä¸é—®é¢˜ç›¸åŒ¹é…çš„è¯„ä¼°æ–¹æ³•ï¼Œæ‰èƒ½å¿«é€Ÿåœ°å‘ç°æ¨¡å‹é€‰æ‹©æˆ–è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ï¼Œè¿­ä»£åœ°å¯¹æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚æ¨¡å‹è¯„ä¼°ä¸»è¦åˆ†ä¸ºç¦»çº¿è¯„ä¼°å’Œåœ¨çº¿è¯„ä¼°ä¸¤ä¸ªé˜¶æ®µã€‚é’ˆå¯¹åˆ†ç±»ã€æ’åºã€å›å½’ã€åºåˆ—é¢„æµ‹ç­‰ä¸åŒç±»å‹çš„æœºå™¨å­¦ä¹ é—®é¢˜ï¼Œè¯„ä¼°æŒ‡æ ‡çš„é€‰æ‹©ä¹Ÿæœ‰æ‰€ä¸åŒã€‚çŸ¥é“æ¯ç§è¯„ä¼°æŒ‡æ ‡çš„ç²¾ç¡®å®šä¹‰ã€æœ‰é’ˆå¯¹æ€§åœ°é€‰æ‹©åˆé€‚çš„è¯„ä¼°...">
    
    <meta property="article:published_time" content="2020-05-14T08:10:00Z">
    
    
    <meta property="article:author" content="yan">
    
    
    <meta property="article:tag" content="æœºå™¨å­¦ä¹ ">
    
    
    <meta property="og:image" content="http://localhost:4000/img/avatar-yan1.jpg">
    <meta property="og:url" content="http://localhost:4000/2020/05/14/%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E7%9A%84%E8%AF%84%E4%BC%B0/">
    <meta property="og:site_name" content="Yan Blog">

    <title>ML5--æ¨¡å‹é¢„æµ‹ç»“æœçš„è¯„ä¼° - Yan Blog</title>

    

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2020/05/14/%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E7%9A%84%E8%AF%84%E4%BC%B0/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">
    <link rel="stylesheet" href="/portfolio/css/timeline.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
      <!-- æ‰“ç®—è®¾ç½®logoï¼Œæš‚æ—¶æ”¾å¼ƒ -->
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- <img src="img/logo.png" alt="" style="position: 'absolute'; width : 500px;"> -->
            <a class="navbar-brand" href="/" style="color: #08d0f7fc">Yan</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/"><h4 style="color: #08d0f7fc">ä¸»é¡µ</h4></a>
                    </li>
                    
                    
                    
                    
                    <li>
                        
                        
                        
                        <a href="/about/"><h4 style="color: #08d0f7fc">å…³äº</h4></a>
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        <a href="/archive/"><h4 style="color: #08d0f7fc">æ–‡ç« </h4></a>
                        
                        
                        
                    </li>
                    
                    
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        <a href="/portfolio/"><h4 style="color: #08d0f7fc">æ¸¸è®°</h4></a>
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                    
                    <li>
                        
                        
                        
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }




    // Bind Event
    // $toggle.addEventListener('click', function(e){
    //     if ($navbar.className.indexOf('in') > 0) {
    //         __HuxNav__.close()
    //     }else{
    //         __HuxNav__.open()
    //     }
    // })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from
     * $toggle/$collapse will break global delegation.
     *
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })

    // place1.addEventListener('mouseenter', function () {
    //   var ob = document.getElementById("palce3");
    //   ob.setAttribute("class","bak");
    // })

    // var top_div1 = document.getElementById("place1");
    // top_div1.onMouseOver=mouseAlert1;
    //
    // function mouseAlert1(){
    //   alert("123");
    //   // $("h4").css("background-color","yellow");
    // }
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/image_back_04.jpg" width="0" height="0"> -->

<!-- Post Header -->


<!-- åšå®¢æ–‡ç« æ ·å¼ -->

<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/image_back_04.jpg');
        background: ;
    }

    
</style>

<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0" title="æœºå™¨å­¦ä¹ ">æœºå™¨å­¦ä¹ </a>
                        
                    </div>
                    <!-- 
                    
                     -->
                    <h1>ML5--æ¨¡å‹é¢„æµ‹ç»“æœçš„è¯„ä¼°</h1>
                    
                    <h2 class="subheading">æœºå™¨å­¦ä¹ ç¬¬äº”è¯¾</h2>
                    <span class="meta">Posted by yan on May 14, 2020</span>
                </div>
            </div>
        </div>
    </div>
</header>





<!-- é¦–é¡µçš„æ ·å¼ -->



<!-- ç…§ç‰‡é¡µçš„æ ·å¼ -->



<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<blockquote>
  <p>â€˜æ²¡æœ‰æµ‹é‡ï¼Œå°±æ²¡æœ‰ç§‘å­¦â€™è¿™æ˜¯ç§‘å­¦å®¶é—¨æ·åˆ—å¤«çš„åè¨€ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ç‰¹åˆ«æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ï¼Œå¯¹æ¨¡å‹çš„è¯„ä¼°åŒæ ·è‡³å…³é‡è¦ï¼Œåªæœ‰é€‰æ‹©ä¸é—®é¢˜ç›¸åŒ¹é…çš„è¯„ä¼°æ–¹æ³•ï¼Œæ‰èƒ½å¿«é€Ÿåœ°å‘ç°æ¨¡å‹é€‰æ‹©æˆ–è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°çš„é—®é¢˜ï¼Œè¿­ä»£åœ°å¯¹æ¨¡å‹è¿›è¡Œä¼˜åŒ–ã€‚æ¨¡å‹è¯„ä¼°ä¸»è¦åˆ†ä¸ºç¦»çº¿è¯„ä¼°å’Œåœ¨çº¿è¯„ä¼°ä¸¤ä¸ªé˜¶æ®µã€‚é’ˆå¯¹åˆ†ç±»ã€æ’åºã€å›å½’ã€åºåˆ—é¢„æµ‹ç­‰ä¸åŒç±»å‹çš„æœºå™¨å­¦ä¹ é—®é¢˜ï¼Œè¯„ä¼°æŒ‡æ ‡çš„é€‰æ‹©ä¹Ÿæœ‰æ‰€ä¸åŒã€‚çŸ¥é“æ¯ç§è¯„ä¼°æŒ‡æ ‡çš„ç²¾ç¡®å®šä¹‰ã€æœ‰é’ˆå¯¹æ€§åœ°é€‰æ‹©åˆé€‚çš„è¯„ä¼°æŒ‡æ ‡ã€æ›´å…·è¯„ä¼°æŒ‡æ ‡çš„åé¦ˆè¿›è¡Œæ¨¡å‹è°ƒæ•´ï¼Œè¿™äº›éƒ½æ˜¯æ¨¡å‹è¯„ä¼°é˜¶æ®µçš„å…³é”®é—®é¢˜</p>
  <h1 id="è¯„ä¼°æŒ‡æ ‡">è¯„ä¼°æŒ‡æ ‡</h1>
  <h2 id="1-accuracy_score">1. accuracy_score</h2>
  <p>â€ƒâ€ƒåˆ†ç±»å‡†ç¡®ç‡åˆ†æ•°æ˜¯æŒ‡æ‰€æœ‰åˆ†ç±»æ­£ç¡®çš„ç™¾åˆ†æ¯”ã€‚åˆ†ç±»å‡†ç¡®ç‡è¿™ä¸€è¡¡é‡åˆ†ç±»å™¨çš„æ ‡å‡†æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯å®ƒä¸èƒ½å‘Šè¯‰ä½ å“åº”å€¼çš„æ½œåœ¨åˆ†å¸ƒï¼Œå¹¶ä¸”å®ƒä¹Ÿä¸èƒ½å‘Šè¯‰ä½ åˆ†ç±»å™¨çŠ¯é”™çš„ç±»å‹ã€‚</p>
</blockquote>

<p>â€ƒâ€ƒå½¢å¼:
<strong>sklearn.metrics.accuracy_score(y_true, y_pred, normalize=True, sample_weight=None)</strong></p>

<p>â€ƒâ€ƒnormalizeï¼šé»˜è®¤å€¼ä¸ºTrueï¼Œè¿”å›æ­£ç¡®åˆ†ç±»çš„æ¯”ä¾‹ï¼›å¦‚æœä¸ºFalseï¼Œè¿”å›æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬æ•°</p>

<p>â€ƒâ€ƒç¤ºä¾‹:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>&gt;&gt;&gt;import numpy as np  
&gt;&gt;&gt;from sklearn.metrics import accuracy_score  
&gt;&gt;&gt;y_pred = [0, 2, 1, 3]  
&gt;&gt;&gt;y_true = [0, 1, 2, 3]  
&gt;&gt;&gt;accuracy_score(y_true, y_pred)  
0.5  
&gt;&gt;&gt;accuracy_score(y_true, y_pred, normalize=False)  
2  
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="2-recall_score">2. recall_score</h2>
<p>â€ƒâ€ƒå¬å›ç‡ =æå–å‡ºçš„æ­£ç¡®ä¿¡æ¯æ¡æ•° /æ ·æœ¬ä¸­çš„ä¿¡æ¯æ¡æ•°ã€‚é€šä¿—åœ°è¯´ï¼Œå°±æ˜¯æ‰€æœ‰å‡†ç¡®çš„æ¡ç›®æœ‰å¤šå°‘è¢«æ£€ç´¢å‡ºæ¥äº†ã€‚</p>

<p>â€ƒâ€ƒå½¢å¼ï¼š
<strong>klearn.metrics.recall_score(y_true, y_pred, labels=None, pos_label=1,average=â€™binaryâ€™, sample_weight=None)</strong></p>

<p>â€ƒâ€ƒå‚æ•°average : string, [None, â€˜microâ€™, â€˜macroâ€™(default), â€˜samplesâ€™, â€˜weightedâ€™]</p>

<p>â€ƒâ€ƒå°†ä¸€ä¸ªäºŒåˆ†ç±»matricsæ‹“å±•åˆ°å¤šåˆ†ç±»æˆ–å¤šæ ‡ç­¾é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®çœ‹æˆå¤šä¸ªäºŒåˆ†ç±»é—®é¢˜çš„é›†åˆï¼Œæ¯ä¸ªç±»éƒ½æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·¨å¤šä¸ªåˆ†ç±»è®¡ç®—æ¯ä¸ªäºŒåˆ†ç±»metricså¾—åˆ†çš„å‡å€¼ï¼Œè¿™åœ¨ä¸€äº›æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨averageå‚æ•°æ¥æŒ‡å®šã€‚</p>

<p>â€ƒâ€ƒmacroï¼šè®¡ç®—äºŒåˆ†ç±»metricsçš„å‡å€¼ï¼Œä¸ºæ¯ä¸ªç±»ç»™å‡ºç›¸åŒæƒé‡çš„åˆ†å€¼ã€‚å½“å°ç±»å¾ˆé‡è¦æ—¶ä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºè¯¥macro-avergingæ–¹æ³•æ˜¯å¯¹æ€§èƒ½çš„å¹³å‡ã€‚å¦ä¸€æ–¹é¢ï¼Œè¯¥æ–¹æ³•å‡è®¾æ‰€æœ‰åˆ†ç±»éƒ½æ˜¯ä¸€æ ·é‡è¦çš„ï¼Œå› æ­¤macro-averagingæ–¹æ³•ä¼šå¯¹å°ç±»çš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</p>

<p>â€ƒâ€ƒweighted:å¯¹äºä¸å‡è¡¡æ•°é‡çš„ç±»æ¥è¯´ï¼Œè®¡ç®—äºŒåˆ†ç±»metricsçš„å¹³å‡ï¼Œé€šè¿‡åœ¨æ¯ä¸ªç±»çš„scoreä¸Šè¿›è¡ŒåŠ æƒå®ç°ã€‚</p>

<p>â€ƒâ€ƒmicroï¼šç»™å‡ºäº†æ¯ä¸ªæ ·æœ¬ç±»ä»¥åŠå®ƒå¯¹æ•´ä¸ªmetricsçš„è´¡çŒ®çš„pairï¼ˆsample-weightï¼‰ï¼Œè€Œéå¯¹æ•´ä¸ªç±»çš„metricsæ±‚å’Œï¼Œå®ƒä¼šæ¯ä¸ªç±»çš„metricsä¸Šçš„æƒé‡åŠå› å­è¿›è¡Œæ±‚å’Œï¼Œæ¥è®¡ç®—æ•´ä¸ªä»½é¢ã€‚Micro-averagingæ–¹æ³•åœ¨å¤šæ ‡ç­¾ï¼ˆmultilabelï¼‰é—®é¢˜ä¸­è®¾ç½®ï¼ŒåŒ…å«å¤šåˆ†ç±»ï¼Œæ­¤æ—¶ï¼Œå¤§ç±»å°†è¢«å¿½ç•¥ã€‚</p>

<p>â€ƒâ€ƒsamplesï¼šåº”ç”¨åœ¨multilabelé—®é¢˜ä¸Šã€‚å®ƒä¸ä¼šè®¡ç®—æ¯ä¸ªç±»ï¼Œç›¸åï¼Œå®ƒä¼šåœ¨è¯„ä¼°æ•°æ®ä¸­ï¼Œé€šè¿‡è®¡ç®—çœŸå®ç±»å’Œé¢„æµ‹ç±»çš„å·®å¼‚çš„metricsï¼Œæ¥æ±‚å¹³å‡ï¼ˆsample_weight-weightedï¼‰</p>

<p>â€ƒâ€ƒaverageï¼šaverage=Noneå°†è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†æ¯ä¸ªç±»çš„å¾—åˆ†.
ç¤ºä¾‹:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>&gt;&gt;&gt;from sklearn.metrics import recall_score  
&gt;&gt;&gt;y_true = [0, 1, 2, 0, 1, 2]  
&gt;&gt;&gt;y_pred = [0, 2, 1, 0, 0, 1]  
&gt;&gt;&gt;recall_score(y_true, y_pred, average='macro')   
0.33...  
&gt;&gt;&gt;recall_score(y_true, y_pred, average='micro')   
0.33...  
&gt;&gt;&gt;recall_score(y_true, y_pred, average='weighted')   
0.33...  
&gt;&gt;&gt;recall_score(y_true, y_pred, average=None)  
array([1.,  0., 0.])  
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="3-f1_score">3. f1_score</h2>
<p>â€ƒâ€ƒF1åˆ†æ•°æ˜¯ç²¾åº¦å’Œå¬å›ç‡çš„è°æ³¢å¹³å‡å€¼ï¼Œæ­£å¸¸çš„å¹³å‡å€¼å¹³ç­‰å¯¹å¾…æ‰€æœ‰çš„å€¼ï¼Œè€Œè°æ³¢å¹³å‡å€¼å›ç»™äºˆè¾ƒä½çš„å€¼æ›´é«˜çš„æƒé‡ï¼Œå› æ­¤ï¼Œåªæœ‰å½“å¬å›ç‡å’Œç²¾åº¦éƒ½å¾ˆé«˜æ—¶ï¼Œåˆ†ç±»å™¨æ‰èƒ½å¾—åˆ°è¾ƒé«˜çš„F1åˆ†æ•°ã€‚
â€ƒâ€ƒå…¶ä¸­ï¼ŒPä»£è¡¨Precisionï¼ŒRä»£è¡¨Recallã€‚</p>
<div align="center"> <img src="/img/202005/0514001.png" /> </div>
<p>â€ƒâ€ƒF1-ScoreæŒ‡æ ‡ç»¼åˆäº†Precisionä¸Recallçš„äº§å‡ºçš„ç»“æœã€‚F1-Scoreçš„å–å€¼èŒƒå›´ä»0åˆ°1çš„ï¼Œ1ä»£è¡¨æ¨¡å‹çš„è¾“å‡ºæœ€å¥½ï¼Œ0ä»£è¡¨æ¨¡å‹çš„è¾“å‡ºç»“æœæœ€å·®ã€‚
â€ƒâ€ƒç¤ºä¾‹:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>&gt;&gt;&gt;from sklearn.metrics import recall_score  
&gt;&gt;&gt;y_true = [0, 1, 2, 0, 1, 2]  
&gt;&gt;&gt;y_pred = [0, 2, 1, 0, 0, 1]  
&gt;&gt;&gt;f1_score(y_true, y_pred, average='macro')   
0.57...
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="4-rocæ›²çº¿">4. rocæ›²çº¿</h2>
<p>â€ƒâ€ƒäºŒå€¼åˆ†ç±»å™¨æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸä¸­æœ€å¸¸è§ä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„åˆ†ç±»å™¨ã€‚è¯„ä»·äºŒå€¼åˆ†ç±»å™¨çš„æŒ‡æ ‡å¾ˆå¤šï¼Œæ¯”å¦‚precision,recall,F1 score,P-Ræ›²çº¿ç­‰ï¼Œä½†å‘ç°è¿™äº›æŒ‡æ ‡æˆ–å¤šæˆ–å°‘åªèƒ½åæ˜ æ¨¡å‹åœ¨æŸä¸€æ–¹é¢çš„æ€§èƒ½ï¼Œç›¸æ¯”è€Œè¨€ï¼ŒROCæ›²çº¿åˆ™æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œç»å¸¸ä½œä¸ºè¯„ä¼°äºŒå€¼åˆ†ç±»å™¨æœ€é‡è¦çš„æŒ‡æ ‡ä¹‹ä¸€</p>

<p>â€ƒâ€ƒROCæ›²çº¿æ˜¯Receiver Operating Characteristic Curveçš„ç®€ç§°ï¼Œä¸­æ–‡åä¸ºâ€™å—è¯•è€…å·¥ä½œç‰¹å¾æ›²çº¿â€™</p>

<p>â€ƒâ€ƒROCæ›²çº¿çš„æ¨ªåæ ‡ä¸ºå‡é˜³æ€§ç‡(FPR),çºµåæ ‡ä¸ºçœŸé˜³æ€§ç‡(TPR)ï¼ŒFPRå’ŒTPRçš„è®¡ç®—æ–¹æ³•åˆ†åˆ«ä¸º:</p>

<p><strong>ğ¹ğ‘ƒğ‘…=ğ¹ğ‘ƒğ‘</strong>
<strong>ğ‘‡ğ‘ƒğ‘…=ğ‘‡ğ‘ƒğ‘ƒ</strong></p>

<p>â€ƒâ€ƒPæ˜¯çœŸå®çš„æ­£æ ·æœ¬æ•°é‡ï¼ŒNæ˜¯çœŸå®çš„è´Ÿæ ·æœ¬æ•°é‡ï¼ŒTPæ˜¯Pä¸ªæ­£æ ·æœ¬ä¸­è¢«åˆ†ç±»å™¨é¢„æµ‹ä¸ºæ­£æ ·æœ¬çš„ä¸ªæ•°ï¼ŒFPä¸ºNä¸ªè´Ÿæ ·æœ¬ä¸­è¢«é¢„æµ‹ä¸ºæ­£æ ·æœ¬çš„ä¸ªæ•°ã€‚
â€ƒâ€ƒç¤ºä¾‹ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>&gt;&gt;&gt;import numpy as np  
&gt;&gt;&gt;from sklearn import metrics  
&gt;&gt;&gt;y = np.array([1, 1, 2, 2])  
&gt;&gt;&gt;scores = np.array([0.1, 0.4, 0.35, 0.8])  
&gt;&gt;&gt;fpr, tpr, thresholds = metrics.roc_curve(y, scores, pos_label=2)  
&gt;&gt;&gt;fpr  
array([0. ,  0.5,  0.5, 1. ])  
&gt;&gt;&gt;tpr  
array([0.5,  0.5,  1. , 1. ])  
&gt;&gt;&gt;thresholds  
array([0.8 ,  0.4 ,  0.35, 0.1 ])  
&gt;&gt;&gt;from sklearn.metrics import auc   
&gt;&gt;&gt;metrics.auc(fpr, tpr)   
0.75 
</pre></td></tr></tbody></table></code></pre></div></div>
<h4 id="rocæ›²çº¿ç»˜åˆ¶">ROCæ›²çº¿ç»˜åˆ¶</h4>
<h5 id="åˆ›å»ºæ•°æ®é›†">åˆ›å»ºæ•°æ®é›†</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre>import pandas as pd

column_name = ['çœŸå®æ ‡ç­¾','æ¨¡å‹è¾“å‡ºæ¦‚ç‡']
datasets = [['p',0.9],['p',0.8],['n',0.7],['p',0.6],
           ['p',0.55],['p',0.54],['n',0.53],['n',0.52],
           ['p',0.51],['n',0.505],['p',0.4],['p',0.39],
           ['p',0.38],['n',0.37],['n',0.36],['n',0.35],
           ['p',0.34],['n',0.33],['p',0.30],['n',0.1]]

data = pd.DataFrame(datasets,index = [i for i in range(1,21,1)],columns=column_name)
print(data)
   çœŸå®æ ‡ç­¾  æ¨¡å‹è¾“å‡ºæ¦‚ç‡
1     p   0.900
2     p   0.800
3     n   0.700
4     p   0.600
5     p   0.550
6     p   0.540
7     n   0.530
8     n   0.520
9     p   0.510
10    n   0.505
11    p   0.400
12    p   0.390
13    p   0.380
14    n   0.370
15    n   0.360
16    n   0.350
17    p   0.340
18    n   0.330
19    p   0.300
20    n   0.100
</pre></td></tr></tbody></table></code></pre></div></div>
<h5 id="ç»˜åˆ¶rocæ›²çº¿">ç»˜åˆ¶ROCæ›²çº¿</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre># è®¡ç®—å„ç§æ¦‚ç‡æƒ…å†µä¸‹å¯¹åº”çš„(å‡é˜³ç‡ï¼ŒçœŸé˜³ç‡)
points = {0.1:[1,1],0.3:[0.9,1],0.33:[0.9,0.9],0.34:[0.8,0.9],0.35:[0.8,0.8],
        0.36:[0.7,0.8],0.37:[0.6,0.8],0.38:[0.5,0.8],0.39:[0.5,0.7],0.40:[0.4,0.7],
        0.505:[0.4,0.6],0.51:[0.3,0.6],0.52:[0.3,0.5],0.53:[0.2,0.5],0.54:[0.1,0.5],
        0.55:[0.1,0.4],0.6:[0.1,0.3],0.7:[0.1,0.2],0.8:[0,0.2],0.9:[0,0.1]}
X = []
Y = []
for value in points.values():
        X.append(value[0])
        Y.append(value[1])
        
import matplotlib.pyplot as plt

plt.scatter(X,Y,c = 'r',marker = 'o')
plt.plot(X,Y)

plt.xlim(0,1)
plt.ylim(0,1)
plt.xlabel('FPR')
plt.ylabel('TPR')
plt.show()
</pre></td></tr></tbody></table></code></pre></div></div>
<div align="center"> <img src="/img/202005/0514002.png" /> </div>
<p>â€ƒâ€ƒAUCæŒ‡ROCæ›²çº¿ä¸‹çš„é¢ç§¯å¤§å°ï¼Œè¯¥å€¼èƒ½å¤Ÿé‡åŒ–åœ°åæ˜ åŸºäºROCæ›²çº¿è¡¡é‡å‡ºçš„æ¨¡å‹æ€§èƒ½,AUCè¶Šå¤§è¯´æ˜åˆ†ç±»å™¨è¶Šå¯èƒ½æŠŠçœŸæ­£çš„æ­£æ ·æœ¬æ’åœ¨å‰é¢ï¼Œåˆ†ç±»æ€§èƒ½è¶Šå¥½</p>

<p>â€ƒâ€ƒROCæ›²çº¿ç›¸æ¯”P-Ræ›²çº¿ï¼Œå½“æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒROCæ›²çº¿çš„å½¢çŠ¶èƒ½å¤Ÿä¿å­˜åŸºæœ¬ä¸å˜ï¼Œè€ŒP-Ræ›²çº¿çš„å½¢çŠ¶ä¸€èˆ¬ä¼šå‘ç”Ÿæ¿€çƒˆçš„å˜åŒ–ï¼Œè¿™ä¸ªç‰¹ç‚¹è®©ROCæ›²çº¿èƒ½å¤Ÿå°½é‡é™ä½ä¸åŒæµ‹è¯•é›†å¸¦æ¥çš„å¹²æ‰°ï¼Œæ›´åŠ å®¢è§‚åœ°è¡¡é‡æ¨¡å‹æœ¬èº«çš„æ€§èƒ½</p>
<h2 id="5-auc">5. Auc</h2>
<p>â€ƒâ€ƒè®¡ç®—AUCå€¼ï¼Œå…¶ä¸­x,yåˆ†åˆ«ä¸ºæ•°ç»„å½¢å¼ï¼Œæ ¹æ®(xi,yi)åœ¨åæ ‡ä¸Šçš„ç‚¹ï¼Œç”Ÿæˆçš„æ›²çº¿ï¼Œç„¶åè®¡ç®—AUCå€¼ï¼›</p>

<p>â€ƒâ€ƒå½¢å¼ï¼š
<strong>sklearn.metrics.auc(x, y, reorder=False)</strong></p>

<h2 id="6-roc_auc_score">6. roc_auc_score</h2>
<p>â€ƒâ€ƒç›´æ¥æ ¹æ®çœŸå®å€¼ï¼ˆå¿…é¡»æ˜¯äºŒå€¼ï¼‰ã€é¢„æµ‹å€¼ï¼ˆå¯ä»¥æ˜¯0/1,ä¹Ÿå¯ä»¥æ˜¯probaå€¼ï¼‰è®¡ç®—å‡ºaucå€¼ï¼Œä¸­é—´è¿‡ç¨‹çš„rocè®¡ç®—çœç•¥ã€‚</p>

<p>â€ƒâ€ƒå½¢å¼ï¼š
<strong>sklearn.metrics.roc_auc_score(y_true, y_score, average=â€™macroâ€™, sample_weight=None)</strong></p>

<p>â€ƒâ€ƒaverage : string, [None, â€˜microâ€™, â€˜macroâ€™(default), â€˜samplesâ€™, â€˜weightedâ€™]</p>

<p>â€ƒâ€ƒç¤ºä¾‹ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>&gt;&gt;&gt;import numpy as np  
&gt;&gt;&gt;from sklearn.metrics import roc_auc_score  
&gt;&gt;&gt;y_true = np.array([0, 0, 1, 1])  
&gt;&gt;&gt;y_scores = np.array([0.1, 0.4, 0.35, 0.8])  
&gt;&gt;&gt;roc_auc_score(y_true, y_scores)  
0.75  
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="7-confusion_matrix">7. confusion_matrix</h2>
<p>â€ƒâ€ƒç”¨ä¸€ä¸ªä¾‹å­æ¥ç†è§£æ··æ·†çŸ©é˜µï¼š
â€ƒâ€ƒå‡è®¾æœ‰ä¸€ä¸ªç”¨æ¥å¯¹çŒ«ï¼ˆcatsï¼‰ã€ç‹—ï¼ˆdogsï¼‰ã€å…”å­ï¼ˆrabbitsï¼‰è¿›è¡Œåˆ†ç±»çš„ç³»ç»Ÿï¼Œæ··æ·†çŸ©é˜µå°±æ˜¯ä¸ºäº†è¿›ä¸€æ­¥åˆ†ææ€§èƒ½è€Œå¯¹è¯¥ç®—æ³•æµ‹è¯•ç»“æœåšå‡ºçš„æ€»ç»“ã€‚å‡è®¾æ€»å…±æœ‰ 27 åªåŠ¨ç‰©ï¼š8åªçŒ«ï¼Œ 6æ¡ç‹—ï¼Œ 13åªå…”å­ã€‚ç»“æœçš„æ··æ·†çŸ©é˜µå¦‚ä¸‹å›¾ï¼š</p>
<div align="center"> <img src="/img/202005/0514003.png" /> </div>
<p>â€ƒâ€ƒåœ¨è¿™ä¸ªæ··æ·†çŸ©é˜µä¸­ï¼Œå®é™…æœ‰ 8åªçŒ«ï¼Œä½†æ˜¯ç³»ç»Ÿå°†å…¶ä¸­3åªé¢„æµ‹æˆäº†ç‹—ï¼›å¯¹äº 6æ¡ç‹—ï¼Œå…¶ä¸­æœ‰ 1æ¡è¢«é¢„æµ‹æˆäº†å…”å­ï¼Œ2æ¡è¢«é¢„æµ‹æˆäº†çŒ«ã€‚ä»æ··æ·†çŸ©é˜µä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç³»ç»Ÿå¯¹äºåŒºåˆ†çŒ«å’Œç‹—å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯åŒºåˆ†å…”å­å’Œå…¶ä»–åŠ¨ç‰©çš„æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚æ‰€æœ‰æ­£ç¡®çš„é¢„æµ‹ç»“æœéƒ½åœ¨å¯¹è§’çº¿ä¸Šï¼Œæ‰€ä»¥ä»æ··æ·†çŸ©é˜µä¸­å¯ä»¥å¾ˆæ–¹ä¾¿ç›´è§‚çš„çœ‹å‡ºå“ªé‡Œæœ‰é”™è¯¯ï¼Œå› ä¸ºä»–ä»¬å‘ˆç°åœ¨å¯¹è§’çº¿å¤–é¢ã€‚</p>

<h1 id="è¯„ä¼°æ–¹æ³•">è¯„ä¼°æ–¹æ³•</h1>
<h2 id="1-ä½¿ç”¨numpyè®¡ç®—">1. ä½¿ç”¨numpyè®¡ç®—</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>import numpy as np
 
y_true = np.array([0, 1, 1, 0, 1, 0])
y_pred = np.array([1, 1, 1, 0, 0, 1])
 
# true positive
TP = np.sum(np.multiply(y_true, y_pred))
print(TP)
 
# false positive
FP = np.sum(np.logical_and(np.equal(y_true, 0), np.equal(y_pred, 1)))
print(FP)
 
# false negative
FN = np.sum(np.logical_and(np.equal(y_true, 1), np.equal(y_pred, 0)))
print(FN)
 
# true negative
TN = np.sum(np.logical_and(np.equal(y_true, 0), np.equal(y_pred, 0)))
print(TN)
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>2
2
1
1
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="2-ä½¿ç”¨tensorflowè®¡ç®—">2. ä½¿ç”¨tensorflowè®¡ç®—</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>import tensorflow as tf
 
sess = tf.Session()
 
y_true = tf.constant([0, 1, 1, 0, 1, 0])
y_pred = tf.constant([1, 1, 1, 0, 0, 1])
 
# true positive
TP = tf.reduce_sum(tf.multiply(y_true, y_pred))
print(sess.run(TP))
 
# false positive
FP = tf.reduce_sum(tf.cast(tf.logical_and(tf.equal(y_true, 0), tf.equal(y_pred, 1)), tf.int32))
print(sess.run(FP))
 
# false negative
FN = tf.reduce_sum(tf.cast(tf.logical_and(tf.equal(y_true, 1), tf.equal(y_pred, 0)), tf.int32))
print(sess.run(FN))
 
# true negative
TN = tf.reduce_sum(tf.cast(tf.logical_and(tf.equal(y_true, 0), tf.equal(y_pred, 0)), tf.int32))
print(sess.run(TN))
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>2
2
1
1
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="3-ä½¿ç”¨sklearnçš„metricsæ¨¡å—è®¡ç®—">3. ä½¿ç”¨sklearnçš„metricsæ¨¡å—è®¡ç®—</h2>
<h3 id="31-æ•°æ®æ˜¯listç±»å‹">3.1 æ•°æ®æ˜¯listç±»å‹</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>from sklearn.metrics import precision_score, recall_score, f1_score
 
y_true = [0, 1, 1, 0, 1, 0]
y_pred = [1, 1, 1, 0, 0, 1]
 
p = precision_score(y_true, y_pred, average='binary')
r = recall_score(y_true, y_pred, average='binary')
f1score = f1_score(y_true, y_pred, average='binary')
 
print(p)
print(r)
print(f1score)
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>0.5
0.666666666667
0.571428571429
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="32-æ•°æ®æ˜¯ndarrayç±»å‹">3.2 æ•°æ®æ˜¯ndarrayç±»å‹</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>from sklearn.metrics import precision_score, recall_score, f1_score
import numpy as np
 
y_true = np.array([[0, 1, 1], 
                   [0, 1, 0]])
y_pred = np.array([[1, 1, 1], 
                   [0, 0, 1]])
 
y_true = np.reshape(y_true, [-1])
y_pred = np.reshape(y_pred, [-1])
 
p = precision_score(y_true, y_pred, average='binary')
r = recall_score(y_true, y_pred, average='binary')
f1score = f1_score(y_true, y_pred, average='binary')
 
print(p)
print(r)
print(f1score)
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>0.5
0.666666666667
0.571428571429
</pre></td></tr></tbody></table></code></pre></div></div>


                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/05/13/matplotlib%E7%BB%98%E5%9B%BE%E5%AD%A6%E4%B9%A01/" data-toggle="tooltip" data-placement="top" title="ML4--matplotlibç»˜å›¾å­¦ä¹ 1">
                        Previous<br>
                        <span>ML4--matplotlibç»˜å›¾å­¦ä¹ 1</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2020/05/18/sklearn%E5%BA%93%E7%9A%84%E5%AD%A6%E4%B9%A0/" data-toggle="tooltip" data-placement="top" title="ML6--sklearnåº“çš„å­¦ä¹ ">
                        Next<br>
                        <span>ML6--sklearnåº“çš„å­¦ä¹ </span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                
                <!-- disqus è¯„è®ºæ¡† start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus è¯„è®ºæ¡† end -->
                

                
            </div>

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">ç›®å½•</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                



<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">æ¨èæ ‡ç­¾</a></h5>
    <div class="tags">
        
        
        
        </a>
        
        
                <a data-sort="0015"
                    href="/archive/?tag=%E5%AD%A6%E4%B9%A0"
                    title="å­¦ä¹ "
                    rel="26">å­¦ä¹ </a>
        
                <a data-sort="0035"
                    href="/archive/?tag=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"
                    title="æœºå™¨å­¦ä¹ "
                    rel="6">æœºå™¨å­¦ä¹ </a>
        
                <a data-sort="0035"
                    href="/archive/?tag=python"
                    title="python"
                    rel="6">python</a>
        
                <a data-sort="0036"
                    href="/archive/?tag=%E7%BD%91%E7%BB%9C"
                    title="ç½‘ç»œ"
                    rel="5">ç½‘ç»œ</a>
        
                <a data-sort="0036"
                    href="/archive/?tag=centos7"
                    title="centos7"
                    rel="5">centos7</a>
        
                <a data-sort="0036"
                    href="/archive/?tag=docker"
                    title="docker"
                    rel="5">docker</a>
        
                <a data-sort="0037"
                    href="/archive/?tag=linux"
                    title="linux"
                    rel="4">linux</a>
        
                <a data-sort="0039"
                    href="/archive/?tag=%E8%B8%8F%E6%98%A5"
                    title="è¸æ˜¥"
                    rel="2">è¸æ˜¥
    </div>
</section>



                <!-- Friends Blog -->
                
<hr>
<h5>æœ‹å‹</h5>
<ul class="list-inline">
  
  <li><a href="http://www.cnblogs.com/yanwanglol/">åšå®¢å›­-yan</a></li>
  
  <li><a href="https://www.zhihu.com/people/wang520yan/activities">çŸ¥ä¹-yan</a></li>
  
</ul>


            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->






<!-- disqus å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<!-- <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "yan";
    var disqus_identifier = "/2020/05/14/æ¨¡å‹é¢„æµ‹ç»“æœçš„è¯„ä¼°";
    var disqus_url = "http://localhost:4000/2020/05/14/%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E7%9A%84%E8%AF%84%E4%BC%B0/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script> -->
<!-- disqus å…¬å…±JSä»£ç  end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    // async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
    //     anchors.options = {
    //       visible: 'always',
    //       placement: 'right',
    //       icon: '#'
    //     };
    //     anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    // })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  <li>
    <a href="https://twitter.com/wang520yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.zhihu.com/people/wang521yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa  fa-stack-1x fa-inverse">çŸ¥</i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="http://weibo.com/wang520yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.facebook.com/wang520yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://github.com/wang520yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.linkedin.com/in/wang520yan">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Yan Blog 2020
                    <br>
                    Powered by <a href="https://wang520yan.github.io/">Yan Blog</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=wang520yan&repo=wang520yan.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->





<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '5cd3746f37e5658b23190f6f61f05fc0';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {

        // interop with multilangual
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
